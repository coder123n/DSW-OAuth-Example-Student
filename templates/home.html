{% extends "layout.html" %}

{% block title %}Home{% endblock %}

{% block content %}

{% with messages = get_flashed_messages(with_categories=true) %} 
 {% if messages %}
  {% for message in messages %}
   {% set cls = "alert alert-success alert-dismissible" %}
  {% elif category == "error" %}
   {% set cls = "alert alert-warning alert-dismissible" %}
  {% elif category == "warning" %}
   {% set cls = "alert alert-danger alert-dismissible" %}
        <div class="{{ cls }}">
          <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
          {{message}}
        </div>
  {% endfor %}
 {% endif %}
{% endwith %}

<h1>Home</h1>
  <ul>
    <li><a href="/page1">That thing we do</a></li>
    <li><a href="/page2">The other thing</a></li>
  </ul>

<p>This is a sample application to demonstrate authenticating against github oauth,
using Flask, on Heroku.</p>

{% endblock %}
